{"files": [{"name": "js/script.js", "is_deleted": false, "new_rows": [" const saveToDb = $('.saveBtn');", " $(event.target).addClass('saved');", " success: function (data) { ", " alert(dataTodo.title + 'Recipe successfully saved !')"], "removed_rows": [" const saveToDb = $('.far');", " success(data) {", " alert(`${data.title}Recipe successfully saved !`);"]}, {"name": "routes/recipe-api-routes.js", "is_deleted": false, "new_rows": [" const recipeList = await db.findAll({", " where: {", " googleId: req.user.googleId,", " },", " attributes: ['recipeId'],", " });", " const idArray = recipeList.map((recipe) => recipe.dataValues.recipeId);", " isInDb: idArray.includes(recipe.id),", " if (dbRecipe.affectedRows === 0) {", " return res.status(500).end();", " }", "", " //  res.render('recipe', { dbRecipe });"], "removed_rows": []}, {"name": "routes/recipe-controller.js", "is_deleted": true, "new_rows": [], "removed_rows": []}, {"name": "utils/axios.js", "is_deleted": false, "new_rows": [], "removed_rows": [" async searchByIngredients(str, intolerances, cuisine, diet) {", " let ingredients = [];", " ingredients = str.split(',');", " const firstIng = ingredients.shift();", " let searchQuery;", " let list = '';", " for (let i = 0; i < ingredients.length; i += 1) {", " list += `, +${ingredients[i]}`;", " searchQuery = `${firstIng}${list}`;", " }", " const results = await axios.get(`https://api.spoonacular.com/recipes/findByIngredients?ingredients=${searchQuery}&cuisine=${cuisine}&diet=${diet}&intolerances=${intolerances}&number=15&instructionsRequired=true&apiKey=${apiKey}`);", " return results.data;", " },"]}, {"name": "partials/_recipe-list.handlebars", "is_deleted": true, "new_rows": [], "removed_rows": []}, {"name": "views/recipe.handlebars", "is_deleted": false, "new_rows": ["            <div class=\"col s12 m1 save-box\"> ", " {{#if isInDb}} ", "                <i class=\"fas fa-heart saved\"></i>", " {{/if}}", " {{#unless isInDb }}", "                <i class=\"fas fa-heart saveBtn\"></i>", " {{/unless}} ", "            </div>           "], "removed_rows": ["            <div class=\"col s12 m1 save-box\">", "                <i class=\"far fa-heart unsaved\"></i>", "                Click to save to My Recipes", "            </div>"]}]}